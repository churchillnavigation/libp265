/*
 * H.265 video codec parser.
 * Copyright (c) 2023 John Willard <john.willard@shotover.com>
 *
 * This file is part of libp265.
 *
 * libp265 is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Lesser General Public License as
 * published by the Free Software Foundation, either version 3 of
 * the License, or (at your option) any later version.
 *
 * libp265 is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public License
 * along with libp265.  If not, see <http://www.gnu.org/licenses/>.
*/

#ifndef LIBP265_LIBP265_H
#define LIBP265_LIBP265_H

#define BEGIN_NAMESPACE_LIBP265 namespace libp265 {
#define END_NAMESPACE_LIBP265 }

BEGIN_NAMESPACE_LIBP265

#if defined(_MSC_VER) && !defined(LIBP265_STATIC_BUILD)
  #ifdef LIBP265_EXPORTS
  #define LIBP265_API __declspec(dllexport)
  #else
  #define LIBP265_API __declspec(dllimport)
  #endif
#elif HAVE_VISIBILITY
  #ifdef LIBP265_EXPORTS
  #define LIBP265_API __attribute__((__visibility__("default")))
  #else
  #define LIBP265_API
  #endif
#else
  #define LIBP265_API
#endif

#if defined(_MSC_VER)
#define LIBP265_INLINE __inline
#else
#define LIBP265_INLINE inline
#endif

enum P265_error {
  P265_OK = 0,
  P265_ERROR_NO_SUCH_FILE=1,
  //P265_ERROR_NO_STARTCODE=2,  obsolet
  //P265_ERROR_EOF=3,
  P265_ERROR_COEFFICIENT_OUT_OF_IMAGE_BOUNDS=4,
  P265_ERROR_CHECKSUM_MISMATCH=5,
  P265_ERROR_CTB_OUTSIDE_IMAGE_AREA=6,
  P265_ERROR_OUT_OF_MEMORY=7,
  P265_ERROR_CODED_PARAMETER_OUT_OF_RANGE=8,
  P265_ERROR_IMAGE_BUFFER_FULL=9,
  P265_ERROR_CANNOT_START_THREADPOOL=10,
  P265_ERROR_LIBRARY_INITIALIZATION_FAILED=11,
  P265_ERROR_LIBRARY_NOT_INITIALIZED=12,
  P265_ERROR_WAITING_FOR_INPUT_DATA=13,
  P265_ERROR_CANNOT_PROCESS_SEI=14,
  P265_ERROR_PARAMETER_PARSING=15,
  P265_ERROR_NO_INITIAL_SLICE_HEADER=16,
  P265_ERROR_PREMATURE_END_OF_SLICE=17,
  P265_ERROR_UNSPECIFIED_DECODING_ERROR=18,

  // --- errors that should become obsolete in later libde265 versions ---

  //P265_ERROR_MAX_THREAD_CONTEXTS_EXCEEDED = 500, obsolet
  //P265_ERROR_MAX_NUMBER_OF_SLICES_EXCEEDED = 501, obsolet
  P265_ERROR_NOT_IMPLEMENTED_YET = 502,
  //P265_ERROR_SCALING_LIST_NOT_IMPLEMENTED = 502, obsolet

  // --- warnings ---

  P265_WARNING_NO_WPP_CANNOT_USE_MULTITHREADING = 1000,
  P265_WARNING_WARNING_BUFFER_FULL=1001,
  P265_WARNING_PREMATURE_END_OF_SLICE_SEGMENT=1002,
  P265_WARNING_INCORRECT_ENTRY_POINT_OFFSET=1003,
  P265_WARNING_CTB_OUTSIDE_IMAGE_AREA=1004,
  P265_WARNING_SPS_HEADER_INVALID=1005,
  P265_WARNING_PPS_HEADER_INVALID=1006,
  P265_WARNING_SLICEHEADER_INVALID=1007,
  P265_WARNING_INCORRECT_MOTION_VECTOR_SCALING=1008,
  P265_WARNING_NONEXISTING_PPS_REFERENCED=1009,
  P265_WARNING_NONEXISTING_SPS_REFERENCED=1010,
  P265_WARNING_BOTH_PREDFLAGS_ZERO=1011,
  P265_WARNING_NONEXISTING_REFERENCE_PICTURE_ACCESSED=1012,
  P265_WARNING_NUMMVP_NOT_EQUAL_TO_NUMMVQ=1013,
  P265_WARNING_NUMBER_OF_SHORT_TERM_REF_PIC_SETS_OUT_OF_RANGE=1014,
  P265_WARNING_SHORT_TERM_REF_PIC_SET_OUT_OF_RANGE=1015,
  P265_WARNING_FAULTY_REFERENCE_PICTURE_LIST=1016,
  P265_WARNING_EOSS_BIT_NOT_SET=1017,
  P265_WARNING_MAX_NUM_REF_PICS_EXCEEDED=1018,
  P265_WARNING_INVALID_CHROMA_FORMAT=1019,
  P265_WARNING_SLICE_SEGMENT_ADDRESS_INVALID=1020,
  P265_WARNING_DEPENDENT_SLICE_WITH_ADDRESS_ZERO=1021,
  P265_WARNING_NUMBER_OF_THREADS_LIMITED_TO_MAXIMUM=1022,
  P265_NON_EXISTING_LT_REFERENCE_CANDIDATE_IN_SLICE_HEADER=1023,
  P265_WARNING_CANNOT_APPLY_SAO_OUT_OF_MEMORY=1024,
  P265_WARNING_SPS_MISSING_CANNOT_DECODE_SEI=1025,
  P265_WARNING_COLLOCATED_MOTION_VECTOR_OUTSIDE_IMAGE_AREA=1026,
  P265_WARNING_PCM_BITDEPTH_TOO_LARGE=1027,
  P265_WARNING_REFERENCE_IMAGE_BIT_DEPTH_DOES_NOT_MATCH=1028,
  P265_WARNING_REFERENCE_IMAGE_SIZE_DOES_NOT_MATCH_SPS=1029,
  P265_WARNING_CHROMA_OF_CURRENT_IMAGE_DOES_NOT_MATCH_SPS=1030,
  P265_WARNING_BIT_DEPTH_OF_CURRENT_IMAGE_DOES_NOT_MATCH_SPS=1031,
  P265_WARNING_REFERENCE_IMAGE_CHROMA_FORMAT_DOES_NOT_MATCH=1032
};

END_NAMESPACE_LIBP265

#endif
